{"version":3,"sources":["../../../lib/nft-parser.ts"],"sourcesContent":["// NFT link parser utility\r\n// Parses NFT links in format: t.me/nft/collection-name-number\r\n\r\nexport interface ParsedNFTLink {\r\n  name: string\r\n  number: string\r\n  displayName: string\r\n  nftId: string\r\n  collectionName: string\r\n  collectionSlug: string\r\n  giftName: string\r\n}\r\n\r\nexport function parseNFTLink(nftLink: string): ParsedNFTLink | null {\r\n  try {\r\n    // Pattern: t.me/nft/collection-name-number\r\n    // Examples:\r\n    // - t.me/nft/IonicDryer-7561\r\n    // - https://t.me/nft/IonicDryer-7561\r\n    // - http://t.me/nft/PlushPepe-123\r\n    // - https://t.me/nft/SakuraFlower-73930\r\n    \r\n    const pattern = /t\\.me\\/nft\\/([^-]+)-(\\d+)/i\r\n    const match = nftLink.match(pattern)\r\n    \r\n    if (match) {\r\n      const collectionNameRaw = match[1]\r\n      const nftNumber = match[2]\r\n      \r\n      // Generate nftId in format \"CollectionName-Number\"\r\n      const nftId = `${collectionNameRaw}-${nftNumber}`\r\n      \r\n      // Convert camelCase to Title Case for collection name\r\n      // e.g., \"IonicDryer\" -> \"Ionic Dryer\", \"SakuraFlower\" -> \"Sakura Flower\"\r\n      const collectionName = collectionNameRaw.replace(/([a-z])([A-Z])/g, \"$1 $2\").replace(/^./, (c) => c.toUpperCase())\r\n      \r\n      // collectionSlug should be lowercase, no spaces\r\n      const collectionSlug = collectionNameRaw.toLowerCase()\r\n      \r\n      // Generate display name\r\n      const displayName = `${collectionName} #${nftNumber}`\r\n      const giftName = displayName\r\n      \r\n      return {\r\n        name: collectionNameRaw,\r\n        number: nftNumber,\r\n        displayName,\r\n        nftId,\r\n        collectionName,\r\n        collectionSlug,\r\n        giftName,\r\n      }\r\n    }\r\n    \r\n    return null\r\n  } catch (error) {\r\n    console.error(\"[NFT Parser] Error parsing NFT link:\", error)\r\n    return null\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"8iCAaO,SAAS,EAAa,CAAe,EAC1C,GAAI,CASF,IAAM,EAAQ,EAAQ,KAAK,CADX,AACY,8BAE5B,GAAI,EAAO,CACT,IAAM,EAAoB,CAAK,CAAC,EAAE,CAC5B,EAAY,CAAK,CAAC,EAAE,CAGpB,EAAQ,CAAA,EAAG,EAAkB,CAAC,EAAE,EAAA,CAAW,CAI3C,EAAiB,EAAkB,OAAO,CAAC,kBAAmB,SAAS,OAAO,CAAC,KAAM,AAAC,GAAM,EAAE,WAAW,IAGzG,EAAiB,EAAkB,WAAW,GAG9C,EAAc,CAAA,EAAG,EAAe,EAAE,EAAE,EAAA,CAAW,CAGrD,MAAO,CACL,KAAM,EACN,OAAQ,cACR,QACA,iBACA,iBACA,EACA,SATe,CAUjB,CACF,CAEA,OAAO,IACT,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,uCAAwC,GAC/C,IACT,CACF"}